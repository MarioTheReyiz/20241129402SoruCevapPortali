@model List<_20241129402SoruCevapPortali.Models.User>
@{
    ViewData["Title"] = "Kullanıcılar"; Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<div class="card shadow mb-4">
    <div class="card-header py-3"><h6 class="m-0 font-weight-bold text-primary">Kullanıcı Listesi</h6></div>
    <div class="card-body">
        <table class="table table-bordered">
            <thead><tr><th>ID</th><th>Kullanıcı Adı</th><th>Rol</th><th>İşlem</th></tr></thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr id="u_@item.Id">
                        <td>@item.Id</td>
                        <td>@item.Username</td>
                        <td>@item.Role</td>
                        <td><button class="btn btn-danger btn-sm btn-del-user" data-id="@item.Id">Sil</button></td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>
@section Scripts {
    <script>
        $(".btn-del-user").click(function(){
            var id=$(this).data("id");
            if(confirm("Kullanıcıyı silmek istiyor musunuz?"))
                $.post("/Admin/DeleteUser", {id:id}, function(r){ if(r.success) $("#u_"+id).remove(); });
        });
    </script>
}