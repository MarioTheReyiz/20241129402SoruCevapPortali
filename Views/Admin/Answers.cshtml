@model List<_20241129402SoruCevapPortali.Models.Answer>
@{
    ViewData["Title"] = "Cevaplar"; Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<div class="card shadow mb-4">
    <div class="card-header py-3"><h6 class="m-0 font-weight-bold text-primary">Tüm Cevaplar</h6></div>
    <div class="card-body">
        <table class="table table-bordered">
            <thead><tr><th>ID</th><th>İçerik</th><th>Tarih</th><th>İşlem</th></tr></thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr id="row_@item.Id">
                        <td>@item.Id</td>
                        <td>@(item.Content.Length > 50 ? item.Content.Substring(0, 50) + "..." : item.Content)</td>
                        <td>@item.Date.ToShortDateString()</td>
                        <td><button class="btn btn-danger btn-sm btn-del-ans" data-id="@item.Id">Sil</button></td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>
@section Scripts {
    <script>
        $(".btn-del-ans").click(function(){
            var id = $(this).data("id");
            if(confirm("Bu cevabı silmek istediğinize emin misiniz?"))
                $.post("/Admin/DeleteAnswer", {id:id}, function(r){ if(r.success) $("#row_"+id).remove(); });
        });
    </script>
}